syntax = "proto3";
package cluster;

option go_package = "./cluster";

service Rpc {
  rpc sync (stream SyncRequest) returns (stream SyncReply) {};
}

message Instance {
  string name = 1;
  string state = 2;
  repeated string ipv4 = 3;
  string image = 4;
}

message State {
  repeated Instance instances = 1;
}

message SyncRequest {
  State state = 1;
}

message SyncReply {
  string uuid = 1;
}